2023-07-02 17:06:14.851 -03:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-02 17:06:15.133 -03:00 [INF] Inicia proceso de venta de asiento 4-5
2023-07-02 17:06:17.295 -03:00 [INF] Verifica que la transaccion no haya superado el limite de tiempo
2023-07-02 17:06:17.296 -03:00 [INF] Verifica que sea un asiento valido
2023-07-02 17:06:17.311 -03:00 [INF] Verifica que no este disponible
2023-07-02 17:06:17.590 -03:00 [INF] Enviando notificacion
2023-07-02 17:06:17.716 -03:00 [INF] Start processing HTTP request POST "https://localhost:5006/"
2023-07-02 17:06:17.725 -03:00 [INF] Sending HTTP request POST "https://localhost:5006/"
2023-07-02 17:06:17.780 -03:00 [INF] Asiento vendido con exito y envio de notificacion en curso
2023-07-02 17:06:17.781 -03:00 [INF] Actualizacion de la cola
2023-07-02 17:06:17.976 -03:00 [WRN] Long Running Request: VentaEntradaCommand (3094 milliseconds) {"transaction":"0abf8f34-0017-432d-9eaa-c61234912bd6","row":4,"column":5,"$type":"VentaEntradaCommand"}
2023-07-02 19:09:25.968 -03:00 [INF] User profile is available. Using 'C:\Users\Ailen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-02 19:09:26.295 -03:00 [INF] Now listening on: https://localhost:5003
2023-07-02 19:09:26.295 -03:00 [INF] Now listening on: http://localhost:5004
2023-07-02 19:09:27.528 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - -
2023-07-02 19:09:27.614 -03:00 [INF] No cached response available for this request.
2023-07-02 19:09:28.010 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - -
2023-07-02 19:09:28.010 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:09:28.018 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - - - 200 11980 application/javascript;+charset=utf-8 6.4598ms
2023-07-02 19:09:28.018 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - - - 200 - text/html;charset=utf-8 500.0162ms
2023-07-02 19:09:28.046 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - -
2023-07-02 19:09:28.096 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 49.5538ms
2023-07-02 19:09:29.412 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - -
2023-07-02 19:09:29.412 -03:00 [INF] No cached response available for this request.
2023-07-02 19:09:29.529 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:09:29.529 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 117.2476ms
2023-07-02 19:09:57.218 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/ping - -
2023-07-02 19:09:57.218 -03:00 [INF] No cached response available for this request.
2023-07-02 19:09:57.246 -03:00 [INF] Executing endpoint 'VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI)'
2023-07-02 19:09:57.265 -03:00 [INF] Route matched with {action = "Ping", controller = "Ping"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Ping() on controller VentaEntrada.WebUI.Controllers.PingController (VentaEntrada.WebUI).
2023-07-02 19:09:57.278 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-02 19:09:57.313 -03:00 [INF] Executed action VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI) in 42.4885ms
2023-07-02 19:09:57.316 -03:00 [INF] Executed endpoint 'VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI)'
2023-07-02 19:09:57.316 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:09:57.316 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/ping - - - 200 - application/json;+charset=utf-8 98.3098ms
2023-07-02 19:19:00.092 -03:00 [INF] User profile is available. Using 'C:\Users\Ailen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-02 19:19:00.787 -03:00 [INF] Now listening on: https://localhost:5003
2023-07-02 19:19:00.788 -03:00 [INF] Now listening on: http://localhost:5004
2023-07-02 19:19:01.810 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - -
2023-07-02 19:19:01.867 -03:00 [INF] No cached response available for this request.
2023-07-02 19:19:02.210 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - -
2023-07-02 19:19:02.211 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:19:02.220 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - - - 200 11980 application/javascript;+charset=utf-8 8.2221ms
2023-07-02 19:19:02.221 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - - - 200 - text/html;charset=utf-8 415.7245ms
2023-07-02 19:19:02.250 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - -
2023-07-02 19:19:02.284 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.0914ms
2023-07-02 19:19:02.962 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - -
2023-07-02 19:19:02.963 -03:00 [INF] No cached response available for this request.
2023-07-02 19:19:03.112 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:19:03.112 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.0165ms
2023-07-02 19:19:08.273 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/health - -
2023-07-02 19:19:08.275 -03:00 [INF] No cached response available for this request.
2023-07-02 19:19:08.656 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:19:08.657 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/health - - - 500 - application/json 383.6487ms
2023-07-02 19:19:08.811 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/favicon.ico - -
2023-07-02 19:19:08.811 -03:00 [INF] No cached response available for this request.
2023-07-02 19:19:08.854 -03:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Ailen\Downloads\Programacion-distribuida-2--0.3\Programacion-distribuida-2--0.3\VentaEntrada\VentaEntrada\WebUI\wwwroot\favicon.ico'
2023-07-02 19:19:08.854 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:19:08.854 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/favicon.ico - - - 200 32038 image/x-icon 43.1996ms
2023-07-02 19:21:38.815 -03:00 [INF] User profile is available. Using 'C:\Users\Ailen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-02 19:21:39.301 -03:00 [INF] Now listening on: https://localhost:5003
2023-07-02 19:21:39.301 -03:00 [INF] Now listening on: http://localhost:5004
2023-07-02 19:21:40.431 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - -
2023-07-02 19:21:40.533 -03:00 [INF] No cached response available for this request.
2023-07-02 19:21:40.961 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - -
2023-07-02 19:21:40.961 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:21:40.977 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - - - 200 11980 application/javascript;+charset=utf-8 14.3514ms
2023-07-02 19:21:40.977 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - - - 200 - text/html;charset=utf-8 552.5274ms
2023-07-02 19:21:41.016 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - -
2023-07-02 19:21:41.045 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.5580ms
2023-07-02 19:21:41.660 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - -
2023-07-02 19:21:41.661 -03:00 [INF] No cached response available for this request.
2023-07-02 19:21:41.820 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:21:41.821 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.9273ms
2023-07-02 19:21:43.873 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/health - -
2023-07-02 19:21:43.874 -03:00 [INF] No cached response available for this request.
2023-07-02 19:21:43.971 -03:00 [INF] Start processing HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:21:43.976 -03:00 [INF] Sending HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:21:48.226 -03:00 [ERR] Health check NotificacionHC threw an unhandled exception after 4257.7992ms
System.Net.Http.HttpRequestException: No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión. (localhost:5006)
 ---> System.Net.Sockets.SocketException (10061): No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at VentaEntrada.Infrastructure.HealthChecks.NotificacionHC.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in C:\Users\Ailen\Downloads\Programacion-distribuida-2--0.3\Programacion-distribuida-2--0.3\VentaEntrada\VentaEntrada\Infrastructure\HealthChecks\NotificacionHC.cs:line 25
   at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
2023-07-02 19:21:48.330 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:21:48.330 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/health - - - 503 - text/plain 4457.5108ms
2023-07-02 19:24:06.867 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/health - -
2023-07-02 19:24:06.873 -03:00 [INF] No cached response available for this request.
2023-07-02 19:24:06.875 -03:00 [INF] Start processing HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:24:06.875 -03:00 [INF] Sending HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:24:07.019 -03:00 [INF] Received HTTP response headers after 134.1937ms - 200
2023-07-02 19:24:07.021 -03:00 [INF] End processing HTTP request after 145.9579ms - 200
2023-07-02 19:24:07.028 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:24:07.028 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/health - - - 200 - text/plain 161.9469ms
2023-07-02 19:26:19.748 -03:00 [INF] User profile is available. Using 'C:\Users\Ailen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-02 19:26:20.197 -03:00 [INF] Now listening on: https://localhost:5003
2023-07-02 19:26:20.197 -03:00 [INF] Now listening on: http://localhost:5004
2023-07-02 19:26:21.160 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - -
2023-07-02 19:26:21.214 -03:00 [INF] No cached response available for this request.
2023-07-02 19:26:21.487 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:26:21.488 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - -
2023-07-02 19:26:21.495 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - - - 200 11980 application/javascript;+charset=utf-8 6.3924ms
2023-07-02 19:26:21.503 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - - - 200 - text/html;charset=utf-8 346.3957ms
2023-07-02 19:26:21.525 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - -
2023-07-02 19:26:21.556 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.9393ms
2023-07-02 19:26:22.150 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - -
2023-07-02 19:26:22.150 -03:00 [INF] No cached response available for this request.
2023-07-02 19:26:22.310 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:26:22.310 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.1980ms
2023-07-02 19:26:25.579 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/ping - -
2023-07-02 19:26:25.579 -03:00 [INF] No cached response available for this request.
2023-07-02 19:26:25.599 -03:00 [INF] Executing endpoint 'VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI)'
2023-07-02 19:26:25.611 -03:00 [INF] Route matched with {action = "Ping", controller = "Ping"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Ping() on controller VentaEntrada.WebUI.Controllers.PingController (VentaEntrada.WebUI).
2023-07-02 19:26:25.622 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-02 19:26:25.652 -03:00 [INF] Executed action VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI) in 36.397ms
2023-07-02 19:26:25.654 -03:00 [INF] Executed endpoint 'VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI)'
2023-07-02 19:26:25.654 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:26:25.654 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/ping - - - 200 - application/json;+charset=utf-8 75.3346ms
2023-07-02 19:26:30.803 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/health - -
2023-07-02 19:26:30.804 -03:00 [INF] No cached response available for this request.
2023-07-02 19:26:30.840 -03:00 [INF] Start processing HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:26:30.845 -03:00 [INF] Sending HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:26:30.978 -03:00 [INF] Received HTTP response headers after 128.2019ms - 200
2023-07-02 19:26:30.980 -03:00 [INF] End processing HTTP request after 141.872ms - 200
2023-07-02 19:26:31.377 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:26:31.377 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/health - - - 200 - text/plain 573.5687ms
2023-07-02 19:27:52.265 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/ping - -
2023-07-02 19:27:52.266 -03:00 [INF] No cached response available for this request.
2023-07-02 19:27:52.266 -03:00 [INF] Executing endpoint 'VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI)'
2023-07-02 19:27:52.267 -03:00 [INF] Route matched with {action = "Ping", controller = "Ping"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Ping() on controller VentaEntrada.WebUI.Controllers.PingController (VentaEntrada.WebUI).
2023-07-02 19:27:52.267 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-02 19:27:52.267 -03:00 [INF] Executed action VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI) in 0.3168ms
2023-07-02 19:27:52.267 -03:00 [INF] Executed endpoint 'VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI)'
2023-07-02 19:27:52.267 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:27:52.267 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/ping - - - 200 - application/json;+charset=utf-8 1.9351ms
2023-07-02 19:27:59.077 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/health - -
2023-07-02 19:27:59.078 -03:00 [INF] No cached response available for this request.
2023-07-02 19:27:59.079 -03:00 [INF] Start processing HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:27:59.079 -03:00 [INF] Sending HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:27:59.353 -03:00 [INF] Received HTTP response headers after 273.612ms - 200
2023-07-02 19:27:59.353 -03:00 [INF] End processing HTTP request after 273.9021ms - 200
2023-07-02 19:27:59.354 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:27:59.354 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/health - - - 200 - text/plain 276.6875ms
2023-07-02 19:33:13.619 -03:00 [INF] User profile is available. Using 'C:\Users\Ailen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-07-02 19:33:14.306 -03:00 [INF] Now listening on: https://localhost:5003
2023-07-02 19:33:14.306 -03:00 [INF] Now listening on: http://localhost:5004
2023-07-02 19:33:16.167 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/index.html - -
2023-07-02 19:33:16.288 -03:00 [INF] No cached response available for this request.
2023-07-02 19:33:16.827 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:33:16.843 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/index.html - - - 200 - text/html;charset=utf-8 681.7813ms
2023-07-02 19:33:16.962 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - -
2023-07-02 19:33:16.962 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/_vs/browserLink - -
2023-07-02 19:33:16.973 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_framework/aspnetcore-browser-refresh.js - - - 200 11980 application/javascript;+charset=utf-8 9.5112ms
2023-07-02 19:33:17.045 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 82.9255ms
2023-07-02 19:33:18.566 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - -
2023-07-02 19:33:18.566 -03:00 [INF] No cached response available for this request.
2023-07-02 19:33:18.796 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:33:18.797 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 230.4940ms
2023-07-02 19:33:40.268 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5003/health - -
2023-07-02 19:33:40.278 -03:00 [INF] No cached response available for this request.
2023-07-02 19:33:40.310 -03:00 [INF] Executing endpoint 'Health checks'
2023-07-02 19:33:40.359 -03:00 [INF] Start processing HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:33:40.364 -03:00 [INF] Sending HTTP request GET "https://localhost:5006/ping"
2023-07-02 19:33:40.708 -03:00 [INF] Received HTTP response headers after 339.136ms - 200
2023-07-02 19:33:40.710 -03:00 [INF] End processing HTTP request after 356.5674ms - 200
2023-07-02 19:33:40.915 -03:00 [INF] Executed endpoint 'Health checks'
2023-07-02 19:33:40.915 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:33:40.915 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5003/health - - - 200 - application/json 647.6636ms
2023-07-02 19:33:46.474 -03:00 [INF] Request starting HTTP/1.1 GET https://localhost:5003/ping - -
2023-07-02 19:33:46.474 -03:00 [INF] No cached response available for this request.
2023-07-02 19:33:46.475 -03:00 [INF] Executing endpoint 'VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI)'
2023-07-02 19:33:46.487 -03:00 [INF] Route matched with {action = "Ping", controller = "Ping"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Ping() on controller VentaEntrada.WebUI.Controllers.PingController (VentaEntrada.WebUI).
2023-07-02 19:33:46.491 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-07-02 19:33:46.514 -03:00 [INF] Executed action VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI) in 21.851ms
2023-07-02 19:33:46.514 -03:00 [INF] Executed endpoint 'VentaEntrada.WebUI.Controllers.PingController.Ping (VentaEntrada.WebUI)'
2023-07-02 19:33:46.514 -03:00 [INF] The response could not be cached for this request.
2023-07-02 19:33:46.515 -03:00 [INF] Request finished HTTP/1.1 GET https://localhost:5003/ping - - - 200 - application/json;+charset=utf-8 40.6209ms
2023-07-03 15:07:52.290 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2023-07-03 15:07:52.300 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2023-07-03 15:07:52.313 +00:00 [INF] Creating key {6c3aac8e-0514-4153-9a6c-3b1a6ca52beb} with creation date 2023-07-03 15:07:52Z, activation date 2023-07-03 15:07:52Z, and expiration date 2023-10-01 15:07:52Z.
2023-07-03 15:07:52.324 +00:00 [WRN] No XML encryptor configured. Key {6c3aac8e-0514-4153-9a6c-3b1a6ca52beb} may be persisted to storage in unencrypted form.
2023-07-03 15:07:52.327 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-6c3aac8e-0514-4153-9a6c-3b1a6ca52beb.xml'.
2023-07-03 15:07:52.479 +00:00 [INF] Now listening on: http://[::]:80
2023-07-03 15:08:43.964 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8070/?transaction=de5f21e2-3848-4276-be19-8748dd66b0b1&row=1&column=1 - 0
2023-07-03 15:08:43.976 +00:00 [INF] CORS policy execution successful.
2023-07-03 15:08:44.012 +00:00 [INF] Executing endpoint 'PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI)'
2023-07-03 15:08:44.048 +00:00 [INF] Route matched with {action = "User", controller = "VentaEntrada"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] User(VentaEntrada.Application.Commands.VentaEntradaCommand) on controller PuertaDeEntrada.WebUI.Controllers.VentaEntradaController (VentaEntrada.WebUI).
2023-07-03 15:08:44.090 +00:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-03 15:08:44.214 +00:00 [INF] Inicia proceso de venta de asiento 1-1
2023-07-03 15:08:44.685 +00:00 [INF] Entity Framework Core 6.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: NoTracking MigrationsAssembly=VentaEntrada.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2023-07-03 15:08:45.334 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__request_transaction_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[email], [t].[idTransaction], [t].[posicion], [t].[timeSpan]
FROM [Transactions] AS [t]
WHERE [t].[idTransaction] = @__request_transaction_0
2023-07-03 15:08:45.350 +00:00 [ERR] El numero de transaccion no es valido - de5f21e2-3848-4276-be19-8748dd66b0b1
2023-07-03 15:08:45.357 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-07-03 15:08:45.365 +00:00 [INF] Executed action PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI) in 1312.2958ms
2023-07-03 15:08:45.365 +00:00 [INF] Executed endpoint 'PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI)'
2023-07-03 15:08:45.370 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8070/?transaction=de5f21e2-3848-4276-be19-8748dd66b0b1&row=1&column=1 - 0 - 400 - text/plain;+charset=utf-8 1408.6643ms
2023-07-03 15:08:50.537 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8070/?transaction=f25f361b-9433-44ab-bd30-82e0cffc7fbf&row=1&column=111 - 0
2023-07-03 15:08:50.538 +00:00 [INF] CORS policy execution successful.
2023-07-03 15:08:50.539 +00:00 [INF] Executing endpoint 'PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI)'
2023-07-03 15:08:50.539 +00:00 [INF] Route matched with {action = "User", controller = "VentaEntrada"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] User(VentaEntrada.Application.Commands.VentaEntradaCommand) on controller PuertaDeEntrada.WebUI.Controllers.VentaEntradaController (VentaEntrada.WebUI).
2023-07-03 15:08:50.541 +00:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-03 15:08:50.543 +00:00 [INF] Inicia proceso de venta de asiento 1-111
2023-07-03 15:08:50.576 +00:00 [INF] Entity Framework Core 6.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: NoTracking MigrationsAssembly=VentaEntrada.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2023-07-03 15:08:50.581 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_transaction_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[email], [t].[idTransaction], [t].[posicion], [t].[timeSpan]
FROM [Transactions] AS [t]
WHERE [t].[idTransaction] = @__request_transaction_0
2023-07-03 15:08:50.588 +00:00 [ERR] No es un asiento valido 1 - 111
2023-07-03 15:08:50.588 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-07-03 15:08:50.589 +00:00 [INF] Executed action PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI) in 49.6844ms
2023-07-03 15:08:50.590 +00:00 [INF] Executed endpoint 'PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI)'
2023-07-03 15:08:50.590 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8070/?transaction=f25f361b-9433-44ab-bd30-82e0cffc7fbf&row=1&column=111 - 0 - 400 - text/plain;+charset=utf-8 53.0649ms
2023-07-03 15:08:57.010 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8070/?transaction=f25f361b-9433-44ab-bd30-82e0cffc7fbf&row=1&column=3 - 0
2023-07-03 15:08:57.011 +00:00 [INF] CORS policy execution successful.
2023-07-03 15:08:57.013 +00:00 [INF] Executing endpoint 'PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI)'
2023-07-03 15:08:57.014 +00:00 [INF] Route matched with {action = "User", controller = "VentaEntrada"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] User(VentaEntrada.Application.Commands.VentaEntradaCommand) on controller PuertaDeEntrada.WebUI.Controllers.VentaEntradaController (VentaEntrada.WebUI).
2023-07-03 15:08:57.016 +00:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-03 15:08:57.020 +00:00 [INF] Inicia proceso de venta de asiento 1-3
2023-07-03 15:08:57.031 +00:00 [INF] Entity Framework Core 6.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.7' with options: NoTracking MigrationsAssembly=VentaEntrada.Infrastructure, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null 
2023-07-03 15:08:57.034 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_transaction_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[email], [t].[idTransaction], [t].[posicion], [t].[timeSpan]
FROM [Transactions] AS [t]
WHERE [t].[idTransaction] = @__request_transaction_0
2023-07-03 15:08:57.039 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Column], [s].[Row], [s].[isFree]
FROM [Seats] AS [s]
2023-07-03 15:08:57.140 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Seats] ([Column], [Row], [isFree])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [Seats]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-07-03 15:08:57.172 +00:00 [INF] Enviando notificacion - transaccion f25f361b-9433-44ab-bd30-82e0cffc7fbf
2023-07-03 15:08:57.213 +00:00 [INF] Start processing HTTP request POST "http://notificaciones/"
2023-07-03 15:08:57.215 +00:00 [INF] Sending HTTP request POST "http://notificaciones/"
2023-07-03 15:08:57.280 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Transactions]
WHERE [email] = @p0;
SELECT @@ROWCOUNT;
2023-07-03 15:08:57.322 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[email], [t].[idTransaction], [t].[posicion], [t].[timeSpan]
FROM [Transactions] AS [t]
2023-07-03 15:08:57.337 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p3='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Transactions] SET [idTransaction] = @p0, [posicion] = @p1, [timeSpan] = @p2
WHERE [email] = @p3;
SELECT @@ROWCOUNT;
2023-07-03 15:08:57.350 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-07-03 15:08:57.351 +00:00 [INF] Executed action PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI) in 336.9075ms
2023-07-03 15:08:57.352 +00:00 [INF] Executed endpoint 'PuertaDeEntrada.WebUI.Controllers.VentaEntradaController.User (VentaEntrada.WebUI)'
2023-07-03 15:08:57.354 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8070/?transaction=f25f361b-9433-44ab-bd30-82e0cffc7fbf&row=1&column=3 - 0 - 200 - text/plain;+charset=utf-8 343.6823ms
2023-07-03 15:08:58.561 +00:00 [INF] Received HTTP response headers after 1342.1558ms - 200
2023-07-03 15:08:58.562 +00:00 [INF] End processing HTTP request after 1349.1042ms - 200
2023-07-03 15:12:45.788 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2023-07-03 15:12:45.820 +00:00 [WRN] No XML encryptor configured. Key {e9f809e8-edd4-4955-9635-355629c4d865} may be persisted to storage in unencrypted form.
2023-07-03 15:13:22.688 +00:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-03 15:13:22.785 +00:00 [INF] Inicia proceso de venta de asiento 1-3
2023-07-03 15:13:23.702 +00:00 [ERR] El numero de transaccion no es valido - f25f361b-9433-44ab-bd30-82e0cffc7fbf
2023-07-03 15:13:30.873 +00:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-03 15:13:30.880 +00:00 [INF] Inicia proceso de venta de asiento 1-4
2023-07-03 15:13:31.053 +00:00 [INF] Enviando notificacion - transaccion f12c2ec7-31a5-4793-8e3a-ff34a5b78290
2023-07-03 15:13:31.097 +00:00 [INF] Start processing HTTP request POST "http://notificaciones/"
2023-07-03 15:13:31.102 +00:00 [INF] Sending HTTP request POST "http://notificaciones/"
2023-07-03 15:13:32.542 +00:00 [INF] Received HTTP response headers after 1435.3337ms - 200
2023-07-03 15:13:32.543 +00:00 [INF] End processing HTTP request after 1450.57ms - 200
2023-07-03 15:13:35.606 +00:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-03 15:13:35.611 +00:00 [INF] Inicia proceso de venta de asiento 1-4
2023-07-03 15:13:35.624 +00:00 [ERR] El numero de transaccion no es valido - f12c2ec7-31a5-4793-8e3a-ff34a5b78290
2023-07-03 15:13:46.144 +00:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-03 15:13:46.145 +00:00 [INF] Inicia proceso de venta de asiento 1-4
2023-07-03 15:13:46.149 +00:00 [ERR] El asiento 1 - 4 ya esta vendido
2023-07-03 15:13:49.222 +00:00 [INF] User 'S/D' requested 'VentaEntradaCommand'
2023-07-03 15:13:49.222 +00:00 [INF] Inicia proceso de venta de asiento 1-5
2023-07-03 15:13:49.243 +00:00 [INF] Enviando notificacion - transaccion a96ed118-856a-4c00-998b-fd9bbdc751f7
2023-07-03 15:13:49.244 +00:00 [INF] Start processing HTTP request POST "http://notificaciones/"
2023-07-03 15:13:49.244 +00:00 [INF] Sending HTTP request POST "http://notificaciones/"
2023-07-03 15:13:50.095 +00:00 [INF] Received HTTP response headers after 850.4193ms - 200
2023-07-03 15:13:50.095 +00:00 [INF] End processing HTTP request after 851.5541ms - 200
